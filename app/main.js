(()=>{"use strict";var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=require("fs"),t=require("path"),n=require("http");const r=n.createServer(((e,n)=>{return r=void 0,s=void 0,i=function*(){const r=t.resolve(t.dirname(""))+("/"===e.url?"/front/index.html":"/front"+e.url);o.readFile(r,(function(e,o){if(e)return n.writeHead(404),void n.end(JSON.stringify(e));n.writeHead(200),n.end(o)}))},new((c=void 0)||(c=Promise))((function(e,o){function t(e){try{u(i.next(e))}catch(e){o(e)}}function n(e){try{u(i.throw(e))}catch(e){o(e)}}function u(o){var r;o.done?e(o.value):(r=o.value,r instanceof c?r:new c((function(e){e(r)}))).then(t,n)}u((i=i.apply(r,s||[])).next())}));var r,s,c,i})),s=require("robotjs");var c=e.n(s);const i=require("ws");console.log("Start static http server on the 3000 port!"),r.listen(3e3),new i.WebSocketServer({port:8080}).on("connection",(e=>{console.log("New client connected"),e.on("message",(o=>{console.log(`Client has sent us: ${o}`);const t=o.toString(),n=c().getMousePos(),r=t.split(" ")[0],s=t.split(" ")[1];switch(r){case"mouse_up":c().moveMouse(n.x,n.y-Number(s));break;case"mouse_down":c().moveMouse(n.x,n.y+Number(s));break;case"mouse_left":c().moveMouse(n.x-Number(s),n.y);break;case"mouse_right":c().moveMouse(n.x+Number(s),n.y)}e.send(r)})),e.on("close",(()=>{console.log("Client has disconnected")}))}))})();